{"version":3,"file":"static/webpack/static/development/pages/index.js.df8576b3fa3fc16cb0be.hot-update.js","sources":["webpack:///./components/Posts/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Post from './post';\nimport Pagination from '../Pagination';\nimport { perPage } from '../../config.js';\n\n\nconst ALL_POSTS_QUERY = gql`\n    query ALL_POSTS_QUERY($skip: Int = 0, $first: Int = ${perPage}) {\n        posts(first: $first, skip: $skip, orderBy: createdAt_DESC) {\n            id\n            title\n            description\n            image\n            largeImage\n            tags {\n                id\n                hash\n            }\n        }\n    }\n`;\n\n\nconst Grid = styled.div`\n    margin-top: 130px;\n    display: grid;\n    grid-template-rows: repeat(auto-fit, minmax(150px, 250px));\n    grid-template-columns: repeat(3, 1fr);\n`;\n\nconst Center = styled.div`\n    text-align: center;\n`;\n\nconst PostsList = styled.div`\n    margin-top: 130px;\n    /* grid-template-rows: repeat(auto-fit, minmax(150px, 1fr)); */\n    grid-template-columns: repeat(3, 1fr);\n    display: grid;\n    grid-gap: 60px;\n    max-width: ${props => props.theme.maxWidth};\n    margin: 0 auto;\n`;\n\nclass Posts extends Component {\n    render() {\n        return (\n\n            <Center>\n                    <Query\n                        query={ALL_POSTS_QUERY}\n                        variables={{\n                            skip: this.props.page * perPage - perPage,\n                        }}>\n                        {({ loading, error, data }) => {\n                            if (loading) return \"Loading...\";\n                            if (error) return `Error: ${error.message}`;\n                            return <PostsList>\n                                {data.posts.map(post => <Post post={post} key={post.id} />)}\n                            </PostsList>\n                        }}\n                    </Query>\n                <Pagination page={this.props.page} />\n            </Center>\n        )\n    }\n}\n\nexport default Posts;\nexport { ALL_POSTS_QUERY };"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAiBA;AAOA;AAIA;AAMA;AAAA;AACA;AAGA;;;;;;;;;;;;;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AArBA;AACA;AAuBA;;;;;A","sourceRoot":""}